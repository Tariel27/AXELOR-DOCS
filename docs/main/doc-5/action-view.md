Действие просмотра используется для открытия видов объектов. Действия просмотра используются для определения меню приложения.

[](#view-action)Посмотреть действие
-----------------------------------

Используется `<action-view>`для определения видов действий.

Таблица 1. Атрибуты

Имя

Описание

**имя**

название действия

заголовок

переопределить заголовок представления

модель

полное имя объекта модели

икона

значок, отображаемый на вкладке навигации верхнего уровня

Представление действий требует наличия следующих элементов:

*   `<view>`\- укажите вид для использования

    *   `type`\- тип просмотра

    *   `name`\- имя представления


*   `<view-param>`\- определить дополнительный параметр просмотра

    *   `name`\- имя параметра

    *   `value`\- значение параметра


*   `<domain>`\- укажите фильтр домена для ограничения поиска (пункт jpqlwhere)

*   `<context>`\- определить базовый контекст для действия

    *   `name`\- имя контекстной переменной

    *   `expr`\- выражение значения контекстной переменной



Имя `<view-param>`параметра принимает следующие параметры:

*   `forceEdit`\- `true`принудительно открыть в редактируемом режиме

*   `forceTitle`\- `true`заставить использовать заголовок действия вместо заголовка просмотра

*   `showArchived`\- `true`включить архивные записи

*   `details-view`\- `true`показывать сетку и формировать представления рядом друг с другом

*   `search-filters`\- название пользовательских [поисковых фильтров](../views/grid.html#advanced-search)

*   `default-search-filters`\- список имен поисковых фильтров, разделенных запятыми, которые применяются по умолчанию (используется вместе с `search-filters`) - _новое в версии 5.4.2._

*   `limit`\- максимальное количество записей на странице (представление в виде сетки/карточек) или в столбце (представление в виде канбана)

*   `popup`\- `true`открыть просмотр во всплывающем окне, `reload`перезагрузить родительский элемент после закрытия всплывающего окна

*   `popup-save`\- `false`скрыть кнопку ОК, используемую для сохранения записи при закрытии всплывающего окна

*   `popup.maximized`\- `true`открыть как развернутое всплывающее окно

*   `show-toolbar`\- `false`скрыть панель инструментов формы

*   `show-confirm`\- `false`отключить грязную проверку

*   `reload-dotted`\- `true`обновить сетку при переключении обратно из формы

*   `download`\- `true`чтобы пометить просмотр как указание на ссылку для скачивания

*   `kanban-hide-columns`\- скрыть определенные столбцы в канбане (список имен, разделенных запятыми)

*   `kanban-column-width`\- желаемая ширина столбца канбана


Специальные имена контекстных переменных

*   `_showRecord`\- показать запись по заданному идентификатору в виде формы

*   `_showSingle`\- `true`показать единственную запись в виде формы


пример:

    <action-view name="contact.all" title="Contacts"
      model="com.axelor.contact.db.Contact"> (1)
      <view type="grid" name="contact-grid"/> (2)
      <view type="form" name="contact-form"/> (3)
    </action-view>
    
    <action-view name="contact.friends" title="My Friends"
      model="com.axelor.contact.db.Contact">
      <view type="grid" name="contact-grid"/>
      <view type="form" name="contact-form"/>
      <domain>self.circle.code = :circleCode</domain> (4)
      <context name="circleCode" expr="friend"/> (5)
    </action-view>

xml![копировать значок](../../../../_/img/octicons-16.svg#view-clippy)Скопировано!

**1**

определить `action-view`для данного объекта

**2**

использовать `contact-grid`представление, определенное для `grid`представления

**3**

использовать `contact-form`представление, определенное для `form`представления

**4**

определить фильтр домена (пункт jpqlwhere)

**5**

определить переменную контекста

Вы можете видеть, что `<domain>`фильтр использует именованные параметры. Эти параметры оцениваются в зависимости от контекста.

[](#application-menu)Меню приложения
------------------------------------

Чтобы получить доступ к представлениям объектов, нам нужно меню приложения. Меню также определяется с использованием синтаксиса xml вместе с представлениями и действиями просмотра.

Используется `<menuitem>`для определения пункта меню. Меню приложения является иерархическим, поэтому элементы меню могут быть организованы как родительские дочерние.

Таблица 2. Атрибуты

Имя

Описание

**имя**

название пункта меню

родитель

название родительского пункта меню

**заголовок**

отображаемое название

икона

отображать имя значка

фон значка

цвет фона значка (предопределенный или шестнадцатеричный цвет HTML)

действие

действие, которое должно быть выполнено при щелчке по пункту меню

заказ

Последовательность отображения пунктов меню

группы

список групп пользователей, разделенных запятыми, которые могут видеть этот пункт меню

вершина

показывать ли это меню сверху

левый

показывать ли это меню слева

скрытый

скрыть ли это меню

ярлык

укажите тег, который будет отображаться в пункте меню

количество тегов

указать, следует ли использовать количество записей действий меню в качестве тега

получить тег

укажите вызов метода для получения значения тега

стиль тега

указать стиль отображения тега

пример:

    <menuitem name="menu-contact-book"
      title="Address Book" /> (1)
    
    <menuitem name="menu-contact-friends"
      parent="menu-contact-book"
      title="All Contact"
      action="contact.all"/> (2) (3) (4)
    
    <menuitem name="menu-mail-inbox"
      parent="menu-mail"
      title="Inbox"
      action="mail.inbox"
      tag-get="com.axelor.mail.web.MailController:inboxMenuTag()"
      tag-style="warning"/> (5)
    
      <menuitem name="menu-mail-important"
        parent="menu-mail"
        title="Important"
        action="mail.important"
        tag="Important"
        tag-style="important"/> (6)

xml![копировать значок](../../../../_/img/octicons-16.svg#view-clippy)Скопировано!

**1**

определить меню верхнего уровня без родительского элемента

**2**

определить дочерний пункт меню с помощью родителя

**3**

отображаемый текст пункта меню

**4**

действие (типа action-view), которое нужно выполнить

**5**

значение тега получения из данного метода

**6**

использовать данный статический тег

Это `tag-style`может быть один из:

*   `default`

*   `important`

*   `success`

*   `warning`

*   `inverse`

*   `info`


Меню отображаются пользователям по следующим правилам:

*   Не разрешать доступ к корневым меню по умолчанию: верхние меню по умолчанию ограничены, поэтому для их отображения пользователям необходимы роли/группы.

*   Разрешить доступ ко всем некорневым меню по умолчанию: если подменю не назначены ни роли, ни группы, они доступны всем. Или же подменю отображаются для пользователей, принадлежащих к данным группам/ролям.